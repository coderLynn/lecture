Fengs.add("jquery/scrollto",function(e,t){function n(e){return"object"==typeof e?e:{top:e,left:e}}var o=t.scrollTo=function(e,n,o){t(window).scrollTo(e,n,o)};o.defaults={axis:"y",duration:1},o.window=function(){return t(window).scrollable()},t.fn.scrollable=function(){return this.map(function(){var e=this.parentWindow||this.defaultView,n="#document"==this.nodeName?e.frameElement||e:this,o=n.contentDocument||(n.contentWindow||n).document,r=n.setInterval;return"IFRAME"==n.nodeName||r&&t.browser.safari?o.body:r?o.documentElement:this})},t.fn.scrollTo=function(e,r,s){return"object"==typeof r&&(s=r,r=0),"function"==typeof s&&(s={onAfter:s}),s=t.extend({},o.defaults,s),r=r||s.speed||s.duration,s.queue=s.queue&&s.axis.length>1,s.queue&&(r/=2),s.offset=n(s.offset),s.over=n(s.over),this.scrollable().each(function(){function o(t){f.animate(l,r,s.easing,t&&function(){t.call(this,e,s)})}function i(e){var t="scroll"+e,n=c.ownerDocument;return d?Math.max(n.documentElement[t],n.body[t]):c[t]}var a,c=this,f=t(c),u=e,l={},d=f.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=)?\d+(px)?$/.test(u)){u=n(u);break}u=t(u,this);case"object":(u.is||u.style)&&(a=(u=t(u)).offset())}t.each(s.axis.split(""),function(e,t){var n="x"==t?"Left":"Top",r=n.toLowerCase(),h="scroll"+n,m=c[h],w="x"==t?"Width":"Height",b=w.toLowerCase();a?(l[h]=a[r]+(d?0:m-f.offset()[r]),s.margin&&(l[h]-=parseInt(u.css("margin"+n))||0,l[h]-=parseInt(u.css("border"+n+"Width"))||0),l[h]+=s.offset[r]||0,s.over[r]&&(l[h]+=u[b]()*s.over[r])):l[h]=u[r],/^\d+$/.test(l[h])&&(l[h]=l[h]<=0?0:Math.min(l[h],i(w))),!e&&s.queue&&(m!=l[h]&&o(s.onAfterFirst),delete l[h])}),o(s.onAfter)}).end()}});