Fengs.add("kdrj/utils/slide",function(i,t){var s={init:function(){this.advert=t("#advert"),this.wrap_slide=this.advert.find(".wrap_slide"),this.slide=this.wrap_slide.children(),this.iw=this.slide.width(),this.objLen=this.slide.length,this.rou=t("#glass").find(".j_ro"),this.i=0,this.off=!0,this.winSize(this.iw),this.execute(),this.createContact(),this.slideFn()},execute:function(){var i=t(window),s=this;i.on("resize",function(){s.iw=i.width(),s.iw<=1200&&(s.iw=1200),s.winSize(s.iw)}),this.xg().slide1()},winSize:function(i){return this.wrap_slide.children().width(i),this.wrap_slide.width(this.objLen*i),this.ifIe()?void this.wrap_slide.css({transition:"none",transform:"translate3d("+-this.i*this.iw+"px,0,0)"}):void this.wrap_slide.css({left:-this.i*this.iw})},createContact:function(){this.ul=t("<ul>"),this.ul.addClass("contact"),this.ul.css("marginLeft",24*-this.objLen/2);for(var i=0;i<this.objLen;i++)this.ul.append("<li "+(0==i?"class=cur":"")+"></li>");this.advert.append(this.ul)},slideFn:function(){function i(){clearInterval(a)}function s(){a=setInterval(e,5e3)}function e(){n.off&&(n.off=!1,n.i++,n.i>=n.objLen&&n.slide.eq(0).css({position:"relative",left:n.iw*n.objLen}),n.ul.children().eq(n.i==n.objLen?0:n.i).addClass("cur").siblings().removeClass("cur"),1==o?d.stand(n.i):d.ie(n.i))}var n=this,o=this.ifIe(),a=null;this.ul.on("mouseover","li",function(){t(this).index()!=n.i&&(n.i=t(this).index(),t(this).addClass("cur").siblings().removeClass("cur"),1==o?d.stand(n.i):d.ie(n.i))});var r=t("#next"),l=t("#last");r.on("click",function(){e()}),a=setInterval(e,5e3),this.ul.on({mouseover:i,mouseout:s}),r.on({mouseover:i,mouseout:s}),l.on({mouseover:i,mouseout:s}),l.on("click",function(){n.off&&(n.i--,n.i<0&&n.slide.eq(n.objLen-1).css({position:"relative",left:-n.iw*n.objLen}),n.ul.children().eq(n.i<0?n.objLen-1:n.i).addClass("cur").siblings().removeClass("cur"),1==o?d.stand(n.i):d.ie(n.i),n.off=!1)}),this.advert.hover(function(){l.stop().animate({left:"12%",opacity:1}),r.stop().animate({right:"12%",opacity:1})},function(){l.stop().animate({left:"10%",opacity:0}),r.stop().animate({right:"10%",opacity:0})});var d={stand:function(i){var t=this;n.wrap_slide.css({transition:"0.5s",transform:"translate3d("+-n.i*n.iw+"px,0,0)"}),n.rou.removeClass("show"),setTimeout(function(){t.moveEnd()},0==i?0:500)},ie:function(){var i=this;n.wrap_slide.stop().animate({left:-n.i*n.iw},function(){i.moveEnd()})},moveEnd:function(){o?(n.slide.eq(n.i%n.objLen).addClass("effect").siblings("div").removeClass("effect"),2!=n.i&&n.i!=n.objLen?n.rou.removeClass("show"):n.xg().slide1()):9==Number(t.browser.version)&&n.slide.addClass("effect"),n.i==n.objLen?(n.wrap_slide.css(n.ifIe()?{transition:"none",transform:"translate3d(0px,0,0)"}:{left:0}),n.slide.eq(0).attr("style","width:"+n.iw+"px"),n.i=0):n.i<0&&(n.wrap_slide.css(n.ifIe()?{transition:"none",transform:"translate3d("+-(n.objLen-1)*n.iw+"px,0,0)"}:{left:-(n.objLen-1)*n.iw}),n.slide.eq(n.objLen-1).attr("style","width:"+n.iw+"px"),n.i=n.objLen-1),n.off=!0,t(this).off()},addEnd:function(i,s){t(i).on("WebkitTransitionend",s),t(i).on("transitionend",s)}};d.stand(n.i)},xg:function(){var i=this,t=0,s=null;return{slide1:function(){setTimeout(function(){s=setInterval(function(){i.rou.eq(t).addClass("show"),t>=3?clearInterval(s):t++},120)},1e3)}}},ifIe:function(){return t.browser.msie&&Number(t.browser.version)<=9?!1:!0}};s.init()});